이상탐지
비정상적 패턴, 이상치, 예외사례 찾기

기존 통계 방법
1. IQR(1사분위,3사분위의 차이를 기준으로 이상치 결정)  / 2. Z-score (평균으로부터 표준편차의 N(보통3)배 떨어진 데이터를 이상치로 결정)
++계산이 단순, 해석이 직관
---정규분포 한정(평균, 표준편차)

머신러닝 방법
데이터 패턴을 익히고 패턴에서 벗어난 데이터를 이상치로 결정
++복잡한 대규모 데이터도 적용가능, 지속적 학습을 통한 지속적 성능 개선 
---모델의 복잡도 증가, 패턴 해석의 어려움, 노이즈가 적은 양질의 데이터 필요

즉. 
이유가 있는 이상치(혼수준비, 정기적 외국방문)가 있기 때문에 
통계적방법보단 머신러닝을 활용해 패턴을 찾는것이 더 좋음

1. Isolation Forest
모든 데이터에 대해서 다른 데이터와 분리가 되도록하는 트리
분리의 과정이 적을수록( depth가 적을수록 ) 이상치 

과정
1. 전체 데이터를 몇개의 서브데이터셋으로 나누고 개별로 isolation tree 설정
2. 모든 데이터에 대해 서브데이터셋들의 트리마다 depth계산(고립계산)하고 평균을 냄 ( 1이라는 데이터는 A트리에서 depth가 5 / B트리에서 depth가 7 .. )
3. 나온 평균값이 설정한 임계값보다 작으면 이상치로 판별
+이상치를 알고 있다면 	정확도(정확한 정답인 데이터[참-참 거짓-거짓] / 전체 데이터), 
			정밀도(참인 정답인 데이터[참-참] / 실제 정답이던 아니던 분류가 참이라고 판단한 데이터), 
			재현율(참인 정답인 데이터[참-참] / 분류에 상관없이 실제 정답이 참인 데이터 )
			F1값(정확도,재현율의 조화평균)을 구해보자 2 * (정 * 재) / (정+재)


